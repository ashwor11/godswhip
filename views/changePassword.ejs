<!DOCTYPE html>
<html lang="en">
<head>
    <%-include('./inc/head.ejs')%>
</head>
<body>
    <%-include('./inc/nav.ejs')%>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <div class="container mt-3">
      <small class="signError"><% if (error){%><%=error%><%}%></small>
    <form id="form1" action="/user/changePassword" method="post" onSubmit="return validation();">
        <div class="form-group">
            <label for="changePassword">password</label>
            <input type="password" name="changePassword" id="changePassword" class="form-control signInput" placeholder="password" aria-describedby="helpId">
            
          </div>
      <div class="form-group">
        <label for="confirmChangePassword">confirm password</label>
        <input type="password" name="confirmChangePassword" id="confirmChangePassword" class="form-control signInput" placeholder="confirm password" aria-describedby="helpId">
        
      </div>

      
      <input type="submit" class="mt-2 btn btn-secondary " id="loginSubmit" value="sign in"></input>

    </form>
  </div>

  <%-include('./inc/footer.ejs') %>

<script>
    function validation(){
    var password = isPasswordValid($("#changePassword").val().toString(),  $("#confirmChangePassword").val().toString());
      
      if(!password){
          $(".signError").text("password at least 8 character and must match")
        console.log("password")
          return false;
      }
      return true;
    
     };

     function onlyLettersAndNumbers(str) {
      return /^[A-Za-z0-9]*$/.test(str);
     }
     function isPasswordValid(password1, password2){
       if(password1.length < 8){
         return false;
       }else if(password2 !== password1){
         return false;
       }
       return true;
        
     }
</script>

</body>
</html>